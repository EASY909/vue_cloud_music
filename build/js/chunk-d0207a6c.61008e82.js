(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0207a6c"],{"3b76":function(t,e,i){"use strict";var n=i("c647"),s=i.n(n);s.a},"40be":function(t,e,i){t.exports=i.p+"img/music.9a8ba630.png"},"5b3f":function(t,e,i){"use strict";var n=i("c8f3"),s=i.n(n);s.a},"79ce":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide-fade"}},[i("div",{staticClass:"SearchContainer"},[i("SearchBox",{attrs:{newQuery:t.query},on:{"update:newQuery":function(e){t.query=e},"update:new-query":function(e){t.query=e}}}),t.query?t._e():i("div",{staticClass:"ShortcutWrapper"},[i("div",[i("div",{staticClass:"HotKey"},[i("h1",{staticClass:"title"},[t._v("热门搜索")]),t.hotList!==[]?i("ul",t._l(t.hotList,(function(e){return i("li",{key:e.first,staticClass:"item",on:{click:function(i){t.query=e.first}}},[i("span",[t._v(t._s(e.first))])])})),0):t._e()])])]),t.query?i("div",{staticClass:"ShortcutWrapper"},[i("Scroll",{attrs:{data:t.data,name:"searchResult"}},[i("div",[t.suggestList.artists?i("div",{staticClass:"List"},[i("h1",{staticClass:"title"},[t._v("相关歌手")]),t._l(t.suggestList.artists,(function(e,n){return i("div",{key:e.accountId+""+n,staticClass:"ListItem",on:{click:function(i){return t.goSinger(e.id)}}},[i("div",{staticClass:"img_wrapper"},[i("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img",loading:t.imgUrl},expression:"{ selector: 'img', loading: imgUrl }"}]},[i("img",{attrs:{"data-src":e.picUrl+"?param=300x300",width:"100%",height:"100%",alt:"music"}})])]),i("span",{staticClass:"name"},[t._v("歌手: "+t._s(e.name))])])}))],2):t._e(),t.suggestList.playlists?i("div",{staticClass:"List"},[i("h1",{staticClass:"title"},[t._v("相关歌单")]),t._l(t.suggestList.playlists,(function(e,n){return i("div",{key:e.accountId+""+n,staticClass:"ListItem",on:{click:function(i){return t.goAlbum(e.id)}}},[i("div",{staticClass:"img_wrapper"},[i("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img",loading:t.imgUrl},expression:"{ selector: 'img', loading: imgUrl }"}]},[i("img",{attrs:{"data-src":e.coverImgUrl+"?param=300x300",width:"100%",height:"100%",alt:"music"}})])]),i("span",{staticClass:"name"},[t._v("歌单: "+t._s(e.name))])])}))],2):t._e(),t.songsList?i("div",{staticClass:"SongItem",staticStyle:{paddingLeft:"20px"}},t._l(t.songsList,(function(e){return i("li",{key:e.id,on:{click:function(i){return t.selectItem(i,e.id)}}},[i("div",{staticClass:"info"},[i("span",[t._v(t._s(e.name))]),i("span",[t._v(t._s(t.getName(e.artists))+" - "+t._s(e.album.name))])])])})),0):t._e()])])],1):t._e(),t.loading?i("Loading"):t._e()],1)])},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"SearchBoxWrapper"},[i("i",{staticClass:"iconfont icon-back",on:{click:t.goBack}},[t._v("")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"queryRef",staticClass:"box",attrs:{placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),""!==t.query?i("i",{staticClass:"iconfont icon-delete",on:{click:t.clearQuery}},[t._v("")]):t._e()])},r=[],c={name:"SearchBox",props:{newQuery:{type:String,default:""}},components:{},data:function(){return{}},computed:{query:{get:function(){return this.newQuery},set:function(t){this.$emit("update:newQuery",t)}}},methods:{goBack:function(){this.$router.go(-1)},clearQuery:function(){this.query="",this.$refs.queryRef.focus()}},beforeCreate:function(){},watch:{},created:function(){},beforeMount:function(){},mounted:function(){this.$refs.queryRef.focus()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},o=c,u=(i("3b76"),i("9ca4")),l=Object(u["a"])(o,a,r,!1,null,"2682a637",null),d=l.exports,f=i("da20"),g=i("3459"),h=i("ed08"),m={name:"Search",components:{SearchBox:d,Scroll:f["a"],Loading:g["a"]},data:function(){return{query:"",data:[],hotList:[],imgUrl:i("40be")}},computed:{loading:function(){return this.$store.state.Search.enterLoading},suggestList:function(){return this.$store.state.Search.suggestList},songsList:function(){return this.$store.state.Search.songsList}},methods:{getName:function(t){return Object(h["f"])(t)},handleQuery:function(){var t=this;this.query&&(this.$store.commit("Search/changeEnterLoading",!0),this.$store.dispatch("Search/getSuggestList",this.query).then((function(e){t.data=[t.suggestList,t.songsList]})),this.$store.dispatch("Search/getSongList",this.query).then((function(e){t.data=[t.suggestList,t.songsList]})))},handleQueryDebounce:Object(h["a"])((function(){this.handleQuery()}),300),getHotList:function(){var t=this;this.$store.dispatch("Search/getHotKeyWords").then((function(e){t.hotList=e}))},goSinger:function(t){this.$router.push("/singers/".concat(t))},goAlbum:function(t){this.$router.push("/recommend/".concat(t))},selectItem:function(t,e){this.$store.dispatch("Player/getSongDetail",e)}},beforeCreate:function(){},watch:{query:function(t){console.log(t.length),""!==t.trim()&&this.handleQueryDebounce()}},created:function(){},beforeMount:function(){},mounted:function(){this.getHotList()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){},deactivated:function(){}},p=m,y=(i("5b3f"),Object(u["a"])(p,n,s,!1,null,"54d987bc",null));e["default"]=y.exports},c647:function(t,e,i){},c8f3:function(t,e,i){}}]);